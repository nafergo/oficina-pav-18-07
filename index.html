<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>FOTOGRAMETRIA E PATRIMÓNIO - Oficina de formação</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/minha.css">
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>




	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section>
                    
                    <section>
					<h1>FOTOGRAMETRIA E PATRIMÓNIO</h1>
                    <h3>Oficina de formação</h3>

					<p style="font-size:.5em; width:100%; float: left;">Coleção arqueológica José Coelho | maio/julho 2019 | Casa do Miradouro, Viseu.
					</p>                        
				    </section>                    

                    <section>
					
					<h3>INTRODUÇÃO À UTILIZAÇÃO DA FOTOGRAMETRIA DIGITAL NA ÁREA DO PATRIMÓNIO</h3>

						<div style="width:66%; float: left;">
							<p style="text-align:left;">INTRODUÇÃO</p>
							<p style="text-align:left;">CAPTURA</p>
							<p style="text-align:left;">CRIAÇÃO 3D</p>
							<p style="text-align:left;">EDIÇÃO 3D</p>
							<p style="text-align:left;">APRESENTAÇÃO E DIFUSÃO</p>
							<p style="text-align:left;">Ao trabalho!</p>
                        </div>
						<div style="width:33%; float: right;">
							<img src="img/IMPRIMIR.jpg" class="minha" alt="" style="width:80%;">
						</div>
					
				    </section>                
                </section>                
                
                
				<section>
                    <section>
                    
					<h1>INTRODUÇÃO</h1>
                    <h3>À FOTOGRAMETRIA E PATRIMÓNIO</h3>
                    <ul>
                        <li>História e fundamentos da fotogrametria</li>
                        <li>Utilidade da fotogrametria para a documentação, análise, reconstrução, preservação,
difusão/divulgação do património</li>
                    </ul>
                        
                    </section>

                    <section>
                        <p style="text-align:left;">Fotogrametria é a ciência-técnica-arte de fazer medições (dimensões, formas e posições de objetos e ambientes) a partir de fotografias.</p>
                        <p style="text-align:left;">...analógica, analítica ou  digital; aérea, terreste/curta-distância (Close-Range); estereofotogrametria; videogrametria; cartográfica/mapping ou não-cartográfica (biomecânica, videojogos, vfx, património, etc.); ...</p>                    
                    </section>

                    <section>

							<p style="text-align:left;">Finais do XV: Leonardo da Vinci desenvolve conceito de perspetiva </p>
							<p style="text-align:left;">1858: A. Laussedat testa fotogrametria aérea com papagaio (e com balões em 1862)</p>
							<p style="text-align:left;">1889: Carl Koppe publica primeiro manual de fotogrametria.</p>
                            <p style="text-align:left;">câmara fotográfica + avião + computador</p>
                                   
                    </section>

                    <section>
                        
                          <div style="width:50%; float: left;">
                              <img src="img/baloon_patent_cropped.png" class="minha" alt="" style="width:100%">
						  </div>

						  <div style="width:50%; float: right;">
                                <img src="img/maxresdefault.jpg" class="minha" alt="" style="width:100%">
                        </div>                                                
                            
                    </section>

                    <section>
                    
                    	<div style="width:100%; float: right; text-align: left;">
						<p>fotografias aéreas; mosaicos; ortofotografias; ortofotomosaicos e ortofotocartas; mosaicos de imagens de radar; cartas planimétricas; cartas topográficas; modelo digital do terreno (DTM); etc.</p>
					</div>
                    
						<div style="width:50%; float: left;">
            <img src="img/1.png" class="minha" alt="" style="width:100%">
						</div>

						<div style="width:50%; float: left;">
            <img src="img/2.png" class="minha" alt="" style="width:100%">
						</div>
                        
                    </section>

                    <section data-background="#fff" >
						<img src="img/3.png" class="minha" alt="" style="border:0;box-shadow:0 0 10px rgba(0, 0, 0, 0)">
					</section>
                    

                    
                    <section>

    					<h1>E Património?</h1>

						<p>Registo de objetos e ambientes para diferentes fins: documentação, análise, reconstrução, preservação, difusão/divulgação do património.</p>
                        
                    </section>                    
                    
                    
                    <section data-transition="fade-in" data-background="img/6.jpg">
						<h3>SS Thistlegorm (WW2)</h3>
					</section>

                    <section data-transition="fade-in" data-background="img/7.jpg">
						<h3>Arte rupestre na Galiza (Campo Lameiro)</h3>
					</section>                    
                    

                    <section data-transition="fade-in">
                        <img src="img/8.jpg" class="minha" alt="" style="width:70%;">
					</section>                    
                    
				    <section>
						<h4>Anta do Repilau (Lobagueira)</h4>
						<video controls class="stretch" src="videos/1.mp4"></video>
					</section>

                    
                    <section>
                    
                    	<h4>Estátua do D. Duarte</h4>

						<video style="width:45%; float: left;" controls src="videos/2.mp4"></video>

						<video style="width:45%; float: right;" controls  src="videos/3.mp4"></video>
                        
                    </section>                    

 
                    <section>
						<h3>Outras iniciativas e projetos</h3>
<img src="img/logo_ff6d57ef4dfd4035ff3f3b70392bf4de_1x.png" class="minha" alt="" style="width:300px; float: left; margin-right: 10px;">
                        <img src="img/logo_inception.jpg" class="minha" alt="" style="width:300px; float: left; margin-right: 10px;">
                        <img src="img/index.jpg" class="minha" alt="" style="width:150px; float: left; margin-right: 10px;">
                        <img src="img/transparent-White.png" class="minha" alt="" style="width:300px; float: left; margin-right: 10px;">
                        <img src="img/cropped-3D_icons_Logo-_below-1.png" class="minha" alt="" style="width:150px; float: left; margin-right: 10px;">
                        <img src="img/google.png" class="minha" alt="" style="width:300px; float: left; margin-right: 10px;">

                    </section>                         

                    <section>
                        <h3>Fotogrametria digital de curta-distância (-300m), terrestre, para reconstrução 3D de objetos através de processo SfM-MVS (Structure from Motion + Multi-View Stereo) com software Open Source (Meshroom)</h3>                    
                        
                    </section>                    

                    <section data-background="#fff" >
						<img src="img/esquema.png" class="minha" alt="" style="border:0;box-shadow:0 0 10px rgba(0, 0, 0, 0)">
					</section>                    
                    
                    
                    <section>
<table>
	<thead>
		<tr>
			<td style="width:45%;">Vantagens</td>
			<td  style="width:45%;">Limites</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
                <ul>
							<li>Custos e rapidez</li>
							<li>Rigor e exatidão</li>
							<li>Pouco ou nada intrusiva</li>
							<li>Durabilidade</li>
							<li>Versatilidade</li>
						</ul>
            </td>
			<td>
                <ul>
							<li>Movimento</li>
							<li>Luz</li>
							<li>Clima</li>
                    <li>Oclusão, visibilidade</li>
							<li>Brilhos, reflexos, transparências</li>

						</ul>
                </td>
		</tr>
	</tbody>
</table>
					</section>   
                    

                    <section>
                        
                        
					<h3>Free/Libre & Open Source</h3>

						<div style="width:66%; float: left;">
							<p style="text-align:left;">SOFTWARE</p>
							<p style="text-align:left;">OPEN FORMATS & STANDARDS</p>
							<p style="text-align:left;">OPEN DATA</p>
							<p style="text-align:left;">OPEN ACCESS</p>
                        </div>
						<div style="width:33%; float: right;">
							<img src="img/tux.png" alt="" style="width:80%;">
						</div>
					
                    
                    
                    </section>                      
                    
                    
                    
				</section>

                
                
                
                
                
				<section>
				<section>
                    
					<h1>CAPTURA</h1>
					<h3>DE DADOS</h3>
                    <ul>
                        <li>Estratégias de captura para diferentes situações</li>
                        <li>Recomendações para levantamento fotogramétrico</li>
                    </ul>
				</section>                					

                
                
                    <section  data-transition="fade-in">
                        <img src="img/met1.png" class="minha" alt="" style="width:100%;">
					</section>                  
                
                
                    <section  data-transition="fade-in">
                        <img src="img/met2.png" class="minha" alt="" style="width:100%;">
					</section>                    

                                    
                    <section  data-transition="fade-in">
                        <img src="img/met3.png" class="minha" alt="" style="width:100%;">
					</section>    
                
                
                    <section>
					
					<h3>Recomendações</h3>

                            <p style="text-align:left;">ISO baixo, Velocidade alta e pouca abertura (acima de f8.0)</p>
							<p style="text-align:left;">Boa focagem e fixa (tripé e prime lens)</p>
							<p style="text-align:left;">Sobrepor 2/3 (50%-80%) mas não repetir</p>
							<p style="text-align:left;">Evitar luz solar direta (hard shadows)</p>
							<p style="text-align:left;">Iluminação similar (rapidez na captura)</p>                            
							<p style="text-align:left;">Boa textura</p>                            
                            <p style="text-align:left;">Sem movimentos, brilhos/reflexos, transparências</p>
              
                  
					
				    </section>                  
                 
                    <section  data-transition="fade-in">
							<img src="img/image8-3.png" class="minha" alt="" style="width:80%;">
					</section> 

                    <section  data-transition="fade-in">
							<img src="img/Camera_settings.png" class="minha" alt="" style="width:80%;">
					</section>                     
                
                </section>                



                
                
				<section>
                
				<section>
                    
					<h1>CRIAÇÃO</h1>
					<h3>DO MODELO 3D</h3>

                    <ul>
                        <li>Processo fotogramétrico: etapas e sequência</li>
                        <li>Softwares</li>
                    </ul>
					
				</section>            

                    <section data-background="#fff" >
						<img src="img/pipe.png" class="minha" alt="" style="border:0;box-shadow:0 0 10px rgba(0, 0, 0, 0)">
					</section>     
                    
                    
                    
                    <section  data-transition="fade-in">
                        <img src="img/Photogrammetry_softwares.jpg" class="minha" alt="" style="width:100%;">
					</section>    

                    <section>
					
					<h3>Meshroom!</h3>

                            <p style="text-align:left;">Proprietários: RealityCapture (mín. 99USD/3 meses), Agisoft Metashape (mín. 179USD), 3DF Zephyr (mín. 150Euros), etc. </p>
							<p style="text-align:left;">Open Source e Free: Colmap, Meshroom, MicMac, Regard3D, VisualSFM, OpenMVG, etc.</p>  
							<p style="text-align:left;">Qualidade, permite aerial e Close-range, FULL PIPELINE, Windows e Linux, Desenvolvimento forte, versátil.</p> 
							<p style="text-align:left;">Problemas? rapidez podia ser maior, máscaras.</p>                         
					
				    </section>                      
                    
                    
                    
					</section>    
                                
                
				<section>
                
				<section>
                    
					<h1>EDIÇÃO</h1>
					<h3>DO MODELO 3D</h3>
                    <ul>
                        <li>Operações básicas de edição</li>
                        <li>Algumas opções otimização</li>
                    </ul>
					
				</section>                    

                
                    <section>
					
                            <p style="text-align:left;">Limpar-corrigir a malha e texturas</p>
							<p style="text-align:left;">Otimizar para diferentes fins: Retopology, Lowpoly, criar UVs, etc.</p>                           					
				    </section>                    
                
						<section>
							<img src="img/fix1.png" class="minha" alt="" style="width:; margin-right: 0em;">
					</section>                
                
						<section>
							<img src="img/fix2.png" class="minha" alt="" style="width:; margin-right: 0em;">
					</section>                
                
						<section>
							<img src="img/fix3.png" class="minha" alt="" style="width:; margin-right: 0em;">
					</section>                                    
                    
						<section>
							<img src="img/image03-1.jpg" class="minha" alt="" style="width:; margin-right: 0em;">
					</section>                     
                
                </section>                                        

                
				<section>                
				<section>
                    
					<h1>APRESENTAÇÃO</h1>
					<h3>E DIFUSÃO DOS RESULTADOS</h3>
                    <ul>
                        <li>Soluções para visualização de modelos 3D</li>
                        <li>RV/AR, videojogos e impressão 3D</li>
                    </ul>
					
				</section>
                                      

                    
				<section>
                    
					<h3>Sketchfab</h3>
				<img src="img/sketchfab.png" class="minha" alt="" style="width:; margin-right: 0em;">
                    <p style="text-align:left;">Comunidade, serviço, repositório, mercado.</p>


				</section>                    
                    
                    
                    
				<section>
                    
					<h1>RV/AR</h1>
						<video controls class="stretch" src="videos/Sketchfab.mp4"></video>

					
				</section>                    

                    <section  data-transition="fade-in">
							<img src="img/print0.png" class="minha" alt="" style="width:100%;">
					</section>   
                    <section  data-transition="fade-in">
							<img src="img/print1.png" class="minha" alt="" style="width:100%;">
					</section>   
                  <section  data-transition="fade-in">

                      			<div style="width:50%; float: left;">
                                    <img src="img/print2.jpg" class="minha" alt="" style="width:100%">
						          </div>

						      <div style="width:50%; float: left;">
                                    <img src="img/print3.jpg" class="minha" alt="" style="width:100%">
						          </div>
                      
                  
					</section>                       

                    
                  <section  data-transition="fade-in">

                      			<div style="width:50%; float: left;">
                                    <img src="img/IMG_20181019_145134.jpg" class="minha" alt="" style="width:100%">
						          </div>

						      <div style="width:50%; float: left;">
                                    <img src="img/IMG_20181019_184200.jpg" class="minha" alt="" style="width:100%">
						          </div>
                      
                  
					</section>                      
                    
                 <section  data-transition="fade-in">

                      			<div style="width:50%; float: left;">
                                    <img src="img/IMPRIMIR.jpg" class="minha" alt="" style="width:100%">
						          </div>

						      <div style="width:50%; float: left;">
                                    <img src="img/IMG_20190413_163854.jpg" class="minha" alt="" style="width:100%">
						          </div>
                      
                  
					</section>                       
                    
                    
				</section>
                
                
				<section>
                    
					<h1>Ao trabalho!</h1>
                    <ul>
                        <li>Parede</li>
                        <li>Pote</li>
                        <li>Potes grandes</li>
                        <li>Pedra mó</li>
                        <li>Ara</li>
                    </ul>
					
				</section>
                
       
				<section>

				<section>
                    
					<h1>ABC do Meshroom</h1>
                    <ul>
                        <li>“File > Save As…”</li>
                        <li>Importar imagens</li>
                        <li>Start (ou Compute 1 a 1)</li>
                        <li>Esperar..........</li>
                        <li>Problemas!!!!</li>
                    </ul>
					
				</section>



					<section data-background="img/meshroom1.png">

					</section>

                
                    
					<section data-background="img/work_0.jpg">

					</section>                    
                    
					<section data-background="img/work_1.jpg">

					</section>                    
                    
					<section data-background="img/work_2.jpg">

					</section>                    
                    
					<section data-background="img/work_3.jpg">

					</section>                    
                    
					<section data-background="img/work_4.jpg">

					</section>                    
                
                
                
                </section>


				<section>

				<section>
                    
					<h1>Erros e Dicas</h1>
                    <ul>
                        <li>No Camera Instrinsic Parameters</li>
                        <li>StructureFromMotion falha/mau</li>
                        <li>Resultado com muitos "buracos"</li>
                        <li>Acelerar DepthMap</li>
                        <li>Meshing crash ou lento</li>
                        <li>Melhorar resolução da textura</li>
                        <li>Low Poly e Draft Mesh</li>                        
                        <li>Masks</li>

                        
                    </ul>

                    
				</section>


				<section>
                    
					<h4>No Camera Instrinsic Parameters, Sensor width doesn't exist in the database</h4>
                    <ul>
                        <li>Adicionar em cameraSensors.db (/aliceVision/share/aliceVision)</li>
                        <li>CameraBrand;CameraModel;SensorWidth_mm</li>
                        <li>Exemplo (https://www.devicespecifications.com/en/model/a95e3ed6): Google;Google Pixel XL;6.25</li>
			<li>https://www.digicamdb.com/ OU https://www.devicespecifications.com/</li>

                    </ul>
					
				</section>

				<section>
                    
					<h4>StructureFromMotion falha ou mau</h4>

		<p style="text-align:left;">Provavelmente, foram extraídos poucos features. Para aumentar a qualidade no alinhamento, SfM, Sparse Cloud:</p>                          
                    
                    <ul>
                        <li>FeatureExtraction: Describer Preset em High ou Ultra.
                        <li>Adicionar AKAZE em FeatureExtraction, FeatureMatching and StructureFromMotion</li>
                        <li>FeatureMatching: ativar Guided Matching</li>
                    </ul>
                        <p style="text-align:left;">Vai demorar mais tempo!</p>					
				</section>                    
                    

				<section>
                    
					<h4>Resultado com muitos "buracos"</h4>
                    <ul>
                        <li>Talvez o Input seja pouco denso ou demasiado desfocado...</li>
                        <li>No DepthMapFilter reduzir Min Consistent Cameras para 2 e Min Consistent Cameras Bad Similarity para 3</li>
                        <li>No MeshFiltering ajustar Filter Large Triangles Factor</li>
                    </ul>
					
				</section>                    


                

				<section>
                    
					<h4>Acelerar DepthMap</h4>
                    <ul>
                        <li>Aumentar o Downscale (mas reduz qualidade!)</li>
                        <li>Reduzir SGM: Nb Neighbour Cameras e Refine: Nb Neighbour Cameras reduz tempo linearmente (reduzir 10 para 5 corta tempo em metade). 3 é o mínimo necessário, 4 é suficiente em muitos casos. Default é para ambientes amplos (onde difícil ter 4 imagens que cubram mesma área)</li>

                    </ul>
					
				</section>                    
                

  				<section>
                    
					<h4>Meshing crash ou lento</h4>
                    <ul>
                        <li>Reduzir maxPoints (1000000 e ir subindo) no Meshing.</li>

                    </ul>
					
				</section>                     



				<section>
                    
					<h4>Melhorar resolução da textura</h4>
                    <ul>
                        <li>No Texturing, reduzir Downscale para 1 (vai demorar mais!)</li>
                    </ul>
					
				</section>                    

                    

 				<section>
                    
					<h4>Versão  low-poly PT1 - Decimate</h4>
                    <ul>
                        <li>Criar uma versão mais leve a partir da original e depois retexturizar.</li>

                    </ul>
                                    <img src="img/image2-2.gif" class="minha" alt="" style="width:100%">
                    </section>
                    
 				<section>
                    
					<h4>Versão  low-poly PT2 - Retopology</h4>
                    <img src="img/image11-1.gif" class="minha" alt="" style="width:100%">
                    <ul>
                        <li>É possível utilizar programa externo (Blender, InstantMeshes, etc.) mas NÃO alterar escala 
                            e orientação!</li>

                    </ul>
                    </section>                    
                    
                    
 				<section>
                    
					<h4>Draft Mesh OU sem CUDA GPU</h4>
                    <img src="img/53656054-e55f0680-3c49-11e9-890b-e2a78305153e.PNG" class="minha" alt="" style="width:120%">
                          <ul>
                        <li>Usar Describer Preset em High ou Ultra no FeatureExtraction</li>
                        <li>PrepareDenseScene.input ⇒ Meshing.input</li>
                        <li>PrepareDenseScene.output ⇒ Texturing.inputImagesFolder</li>

                    </ul>
                    </section>  
                    


 				<section>
                    
					<h4>Masks</h4>
                    
                    <h5>Ups... Keep calm and...</h5>
                          <ul>
                        <li>Roadmap</li>
                        <li>Fundo sem "features"</li>
                    </ul>

                    </section>  

                    
                    
                </section>

                
                
				<section>

				<section>
                    
					<h1>ABC do Colmap</h1>
                    <ul>
                        <li>“File > Save As…”</li>
                        <li>Reconstruction > Automatic Reconstruction</li>
                        <li>Esperar..........</li>
                        <li>Problemas!!!!</li>
                    </ul>
					
				</section>

         
                
                </section>                
                
                
                
                
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>



	</body>
</html>
